n my TypeScript React project, I have multiple “Add to Cart” buttons that trigger the addToCart(product, quantity) function from the CartContext.
I need help fixing the following issues:

✅ 1. Cart Icon Bubble Not Updating
Goal:
Whenever any “Add to Cart” button is clicked, I want a red bubble to appear on the cart icon in the top-right corner of the screen. This bubble should display the total number of items in the cart, based on how many units have been added — not just how many unique products are there.

What to fix:

Ensure the cart icon component has access to cartCount from CartContext.

cartCount should be the sum of all item quantities, not just the length of the cart array.

Display a red notification bubble with the count.

✅ 2. Cart Page Doesn’t Show Items or Quantities
Current Behavior:
When the user clicks the cart icon and goes to /cart (rendered by CartPage.tsx), the page shows "Your cart is empty" even after items have been added.

Expected Behavior:

The cart page should display each CartItem, with:

Product name

Price

Quantity

Subtotal for each line item

What to fix:

Make sure the CartPage.tsx correctly maps through cart and renders the CartItem component for each entry.

Ensure localStorage cart state is hydrated before the page renders (this seems partially implemented in CartContext already).

Ensure CartItem.tsx accepts the correct props and is rendering data properly.

✅ 3. Other Notes for Debugging
The cart is persisted in localStorage via a useEffect, but this doesn’t guarantee that hydration is complete before the cart is read on page load.

If necessary, introduce a loading state in the cart context to wait for cart initialization.

🧠 Relevant Files to Check
client/src/context/CartContext.tsx – contains addToCart, cartCount, and localStorage logic

client/src/pages/CartPage.tsx – renders the cart UI

client/src/components/CartItem.tsx – displays individual cart items (confirm props)

Header/NavBar component – update this to show red bubble on the cart icon

